{"version":3,"sources":["node_modules/browser-pack/_prelude.js","js/src/RecordsTable.js","js/src/RulesTable.js","js/src/Table.js","js/src/entry.js"],"names":[],"mappings":"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","file":"entry.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","require('./Table');\r\n\r\nclass RecordsTable extends RESTCache.Table\r\n{\r\n\t\r\n}\r\n\r\njQuery(function($) {\r\n\t\r\n\tRESTCache.recordsTable = new RecordsTable($(\"#records table\"));\r\n\t\r\n});\r\n\r\nexport {RecordsTable};","require('./Table');\r\n\r\nclass RulesTable extends RESTCache.Table\r\n{\r\n\tconstructor(element)\r\n\t{\r\n\t\tsuper(element);\r\n\t}\r\n\t\r\n\tgetControlFromField(field)\r\n\t{\r\n\t\tswitch(field)\r\n\t\t{\r\n\t\t\tcase \"regex\":\r\n\t\t\t\r\n\t\t\t\tvar $input = super.getControlFromField(field);\r\n\t\t\t\t$input.attr(\"type\", \"checkbox\");\r\n\t\t\t\t$input.attr(\"checked\", $input.val() == 1);\r\n\t\t\t\t$input.val(\"on\");\r\n\t\t\t\treturn $input;\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase \"behaviour\":\r\n\t\t\t\r\n\t\t\t\tvar $select = $(\"<select name='behaviour'>\\\r\n\t\t\t\t\t<option value=''></option>\\\r\n\t\t\t\t\t<option value=''></option>\\\r\n\t\t\t\t</select>\");\r\n\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase \"priority\":\t\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\t\r\n\t\treturn super.getControlFromField(field);\r\n\t}\r\n}\r\n\r\njQuery(function($) {\r\n\t\r\n\tRESTCache.rulesTable = new RulesTable($(\"#rules table\"));\r\n\t\r\n});\r\n\r\nexport {RulesTable};","class Table\r\n{\r\n\tconstructor(element)\r\n\t{\r\n\t\tvar self = this;\r\n\t\t\r\n\t\tthis.$element = $(element);\r\n\t\t\r\n\t\tthis.url = this.$element.attr(\"data-route\");\r\n\t\t\r\n\t\tthis.$element.on(\"click\", \"[data-action='edit']\", event => this.onEdit(event));\r\n\t\tthis.$element.on(\"click\", \"[data-action='update']\", event => this.onUpdate(event));\r\n\t\tthis.$element.on(\"click\", \"[data-action='delete']\", event => this.onDelete(event));\r\n\t}\r\n\t\r\n\tgetIDFromEvent(event)\r\n\t{\r\n\t\tlet $tr = $(event.currentTarget).closest(\"tr\");\r\n\t\tlet id = $tr.attr(\"data-id\");\r\n\t\t\r\n\t\treturn id;\r\n\t}\r\n\t\r\n\tgetControlFromField(field)\r\n\t{\r\n\t\tlet $input = $(\"<input/>\");\r\n\t\t$input.attr(\"name\", field);\r\n\t\treturn $input;\r\n\t}\r\n\t\r\n\tsetItemEditable(id)\r\n\t{\r\n\t\tlet self = this;\r\n\t\tlet $tr = this.$element.find(\"tr[data-id='\" + id + \"']\");\r\n\t\t\r\n\t\t$tr.children(\"td\").each(function(index, td) {\r\n\t\t\t\r\n\t\t\tlet field = $(td).attr(\"data-field\");\r\n\t\t\t\r\n\t\t\tswitch(field)\r\n\t\t\t{\r\n\t\t\t\tcase \"id\":\r\n\t\t\t\tcase \"actions\":\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tlet $input = self.getControlFromField(field);\r\n\t\t\t\r\n\t\t\t$input.val($(td).text());\r\n\t\t\t\r\n\t\t\t$(td).empty();\r\n\t\t\t$(td).append($input);\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$tr.addClass(\"rest-cache-editing\");\r\n\t}\r\n\t\r\n\tonEdit(event)\r\n\t{\r\n\t\tlet id = this.getIDFromEvent(event);\r\n\t\tthis.setItemEditable(id);\r\n\t}\r\n\t\r\n\tonUpdate(event)\r\n\t{\r\n\t\tlet self\t= this;\r\n\t\tlet id\t\t= this.getIDFromEvent(event);\r\n\t\tlet data\t= {};\r\n\t\tlet $tr\t\t= $(event.currentTarget).closest(\"tr\");\r\n\t\t\r\n\t\t$tr.find(\":input\").each(function(index, el) {\r\n\t\t\t\r\n\t\t\tif(!$(el).attr(\"name\"))\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\tdata[$(el).attr(\"name\")] = $(el).val();\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$.ajax(this.url + \"/\" + id, {\r\n\t\t\tmethod: \"PUT\",\r\n\t\t\tdata: data,\r\n\t\t\tsuccess: function(response, status, xhr) {\r\n\t\t\t\tself.onActionComplete(response);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tonDelete(event)\r\n\t{\r\n\t\tlet self\t= this;\r\n\t\tlet id\t\t= this.getIDFromEvent(event);\r\n\t\t\r\n\t\t$.ajax(this.url + \"/\" + id, {\r\n\t\t\tmethod: \"DELETE\",\r\n\t\t\tsuccess: function(response, status, xhr) {\r\n\t\t\t\tself.onActionComplete(response);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tonActionComplete(event)\r\n\t{\r\n\t\tthis.$element.DataTable().ajax.reload();\r\n\t}\r\n}\r\n\r\nRESTCache.Table = Table;\r\nexport {Table};","window.$ = jQuery;\r\nwindow.RESTCache = {};\r\n\t\r\nrequire('./RulesTable');\r\nrequire('./RecordsTable');\r\n\r\njQuery(function($) {\r\n\t\r\n\t$(\"#rest-cache-tabs\").tabs();\r\n\t\r\n});"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9zcmMvUmVjb3Jkc1RhYmxlLmpzIiwianMvc3JjL1J1bGVzVGFibGUuanMiLCJqcy9zcmMvVGFibGUuanMiLCJqcy9zcmMvZW50cnkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUEsT0FBTyxDQUFDLFNBQUQsQ0FBUDs7SUFFTSxZOzs7Ozs7Ozs7Ozs7RUFBcUIsU0FBUyxDQUFDLEs7OztBQUtyQyxNQUFNLENBQUMsVUFBUyxDQUFULEVBQVk7QUFFbEIsRUFBQSxTQUFTLENBQUMsWUFBVixHQUF5QixJQUFJLFlBQUosQ0FBaUIsQ0FBQyxDQUFDLGdCQUFELENBQWxCLENBQXpCO0FBRUEsQ0FKSyxDQUFOOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNQQSxPQUFPLENBQUMsU0FBRCxDQUFQOztJQUVNLFU7Ozs7O0FBRUwsc0JBQVksT0FBWixFQUNBO0FBQUE7O0FBQUEsNkJBQ08sT0FEUDtBQUVDOzs7O3dDQUVtQixLLEVBQ3BCO0FBQ0MsY0FBTyxLQUFQO0FBRUMsYUFBSyxPQUFMO0FBRUMsY0FBSSxNQUFNLHVGQUE2QixLQUE3QixDQUFWOztBQUNBLFVBQUEsTUFBTSxDQUFDLElBQVAsQ0FBWSxNQUFaLEVBQW9CLFVBQXBCO0FBQ0EsVUFBQSxNQUFNLENBQUMsSUFBUCxDQUFZLFNBQVosRUFBdUIsTUFBTSxDQUFDLEdBQVAsTUFBZ0IsQ0FBdkM7QUFDQSxVQUFBLE1BQU0sQ0FBQyxHQUFQLENBQVcsSUFBWDtBQUNBLGlCQUFPLE1BQVA7QUFFQTs7QUFFRCxhQUFLLFdBQUw7QUFFQyxjQUFJLE9BQU8sR0FBRyxDQUFDLENBQUM7OztjQUFELENBQWY7QUFLQTs7QUFFRCxhQUFLLFVBQUw7QUFFQztBQXZCRjs7QUEwQkEsaUdBQWlDLEtBQWpDO0FBQ0E7Ozs7RUFwQ3VCLFNBQVMsQ0FBQyxLOzs7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MUIsQ0FBK0IsTUFBL0I7QUFDQTs7Ozs7OztBQUdGLFNBQVMsQ0FBQyxLQUFWLEdBQWtCLEtBQWxCOzs7OztBQzdHQSxNQUFNLENBQUMsQ0FBUCxHQUFXLE1BQVg7QUFDQSxNQUFNLENBQUMsU0FBUCxHQUFtQixFQUFuQjs7QUFFQSxPQUFPLENBQUMsY0FBRCxDQUFQOztBQUNBLE9BQU8sQ0FBQyxnQkFBRCxDQUFQOztBQUVBLE1BQU0sQ0FBQyxVQUFTLENBQVQsRUFBWTtBQUVsQixFQUFBLENBQUMsQ0FBQyxrQkFBRCxDQUFELENBQXNCLElBQXRCO0FBRUEsQ0FKSyxDQUFOIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwicmVxdWlyZSgnLi9UYWJsZScpO1xyXG5cclxuY2xhc3MgUmVjb3Jkc1RhYmxlIGV4dGVuZHMgUkVTVENhY2hlLlRhYmxlXHJcbntcclxuXHRcclxufVxyXG5cclxualF1ZXJ5KGZ1bmN0aW9uKCQpIHtcclxuXHRcclxuXHRSRVNUQ2FjaGUucmVjb3Jkc1RhYmxlID0gbmV3IFJlY29yZHNUYWJsZSgkKFwiI3JlY29yZHMgdGFibGVcIikpO1xyXG5cdFxyXG59KTtcclxuXHJcbmV4cG9ydCB7UmVjb3Jkc1RhYmxlfTsiLCJyZXF1aXJlKCcuL1RhYmxlJyk7XHJcblxyXG5jbGFzcyBSdWxlc1RhYmxlIGV4dGVuZHMgUkVTVENhY2hlLlRhYmxlXHJcbntcclxuXHRjb25zdHJ1Y3RvcihlbGVtZW50KVxyXG5cdHtcclxuXHRcdHN1cGVyKGVsZW1lbnQpO1xyXG5cdH1cclxuXHRcclxuXHRnZXRDb250cm9sRnJvbUZpZWxkKGZpZWxkKVxyXG5cdHtcclxuXHRcdHN3aXRjaChmaWVsZClcclxuXHRcdHtcclxuXHRcdFx0Y2FzZSBcInJlZ2V4XCI6XHJcblx0XHRcdFxyXG5cdFx0XHRcdHZhciAkaW5wdXQgPSBzdXBlci5nZXRDb250cm9sRnJvbUZpZWxkKGZpZWxkKTtcclxuXHRcdFx0XHQkaW5wdXQuYXR0cihcInR5cGVcIiwgXCJjaGVja2JveFwiKTtcclxuXHRcdFx0XHQkaW5wdXQuYXR0cihcImNoZWNrZWRcIiwgJGlucHV0LnZhbCgpID09IDEpO1xyXG5cdFx0XHRcdCRpbnB1dC52YWwoXCJvblwiKTtcclxuXHRcdFx0XHRyZXR1cm4gJGlucHV0O1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcclxuXHRcdFx0Y2FzZSBcImJlaGF2aW91clwiOlxyXG5cdFx0XHRcclxuXHRcdFx0XHR2YXIgJHNlbGVjdCA9ICQoXCI8c2VsZWN0IG5hbWU9J2JlaGF2aW91cic+XFxcclxuXHRcdFx0XHRcdDxvcHRpb24gdmFsdWU9Jyc+PC9vcHRpb24+XFxcclxuXHRcdFx0XHRcdDxvcHRpb24gdmFsdWU9Jyc+PC9vcHRpb24+XFxcclxuXHRcdFx0XHQ8L3NlbGVjdD5cIik7XHJcblx0XHRcdFxyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcclxuXHRcdFx0Y2FzZSBcInByaW9yaXR5XCI6XHRcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0cmV0dXJuIHN1cGVyLmdldENvbnRyb2xGcm9tRmllbGQoZmllbGQpO1xyXG5cdH1cclxufVxyXG5cclxualF1ZXJ5KGZ1bmN0aW9uKCQpIHtcclxuXHRcclxuXHRSRVNUQ2FjaGUucnVsZXNUYWJsZSA9IG5ldyBSdWxlc1RhYmxlKCQoXCIjcnVsZXMgdGFibGVcIikpO1xyXG5cdFxyXG59KTtcclxuXHJcbmV4cG9ydCB7UnVsZXNUYWJsZX07IiwiY2xhc3MgVGFibGVcclxue1xyXG5cdGNvbnN0cnVjdG9yKGVsZW1lbnQpXHJcblx0e1xyXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHJcblx0XHR0aGlzLiRlbGVtZW50ID0gJChlbGVtZW50KTtcclxuXHRcdFxyXG5cdFx0dGhpcy51cmwgPSB0aGlzLiRlbGVtZW50LmF0dHIoXCJkYXRhLXJvdXRlXCIpO1xyXG5cdFx0XHJcblx0XHR0aGlzLiRlbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCJbZGF0YS1hY3Rpb249J2VkaXQnXVwiLCBldmVudCA9PiB0aGlzLm9uRWRpdChldmVudCkpO1xyXG5cdFx0dGhpcy4kZWxlbWVudC5vbihcImNsaWNrXCIsIFwiW2RhdGEtYWN0aW9uPSd1cGRhdGUnXVwiLCBldmVudCA9PiB0aGlzLm9uVXBkYXRlKGV2ZW50KSk7XHJcblx0XHR0aGlzLiRlbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCJbZGF0YS1hY3Rpb249J2RlbGV0ZSddXCIsIGV2ZW50ID0+IHRoaXMub25EZWxldGUoZXZlbnQpKTtcclxuXHR9XHJcblx0XHJcblx0Z2V0SURGcm9tRXZlbnQoZXZlbnQpXHJcblx0e1xyXG5cdFx0bGV0ICR0ciA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkuY2xvc2VzdChcInRyXCIpO1xyXG5cdFx0bGV0IGlkID0gJHRyLmF0dHIoXCJkYXRhLWlkXCIpO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gaWQ7XHJcblx0fVxyXG5cdFxyXG5cdGdldENvbnRyb2xGcm9tRmllbGQoZmllbGQpXHJcblx0e1xyXG5cdFx0bGV0ICRpbnB1dCA9ICQoXCI8aW5wdXQvPlwiKTtcclxuXHRcdCRpbnB1dC5hdHRyKFwibmFtZVwiLCBmaWVsZCk7XHJcblx0XHRyZXR1cm4gJGlucHV0O1xyXG5cdH1cclxuXHRcclxuXHRzZXRJdGVtRWRpdGFibGUoaWQpXHJcblx0e1xyXG5cdFx0bGV0IHNlbGYgPSB0aGlzO1xyXG5cdFx0bGV0ICR0ciA9IHRoaXMuJGVsZW1lbnQuZmluZChcInRyW2RhdGEtaWQ9J1wiICsgaWQgKyBcIiddXCIpO1xyXG5cdFx0XHJcblx0XHQkdHIuY2hpbGRyZW4oXCJ0ZFwiKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCB0ZCkge1xyXG5cdFx0XHRcclxuXHRcdFx0bGV0IGZpZWxkID0gJCh0ZCkuYXR0cihcImRhdGEtZmllbGRcIik7XHJcblx0XHRcdFxyXG5cdFx0XHRzd2l0Y2goZmllbGQpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRjYXNlIFwiaWRcIjpcclxuXHRcdFx0XHRjYXNlIFwiYWN0aW9uc1wiOlxyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0ICRpbnB1dCA9IHNlbGYuZ2V0Q29udHJvbEZyb21GaWVsZChmaWVsZCk7XHJcblx0XHRcdFxyXG5cdFx0XHQkaW5wdXQudmFsKCQodGQpLnRleHQoKSk7XHJcblx0XHRcdFxyXG5cdFx0XHQkKHRkKS5lbXB0eSgpO1xyXG5cdFx0XHQkKHRkKS5hcHBlbmQoJGlucHV0KTtcclxuXHRcdFx0XHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0JHRyLmFkZENsYXNzKFwicmVzdC1jYWNoZS1lZGl0aW5nXCIpO1xyXG5cdH1cclxuXHRcclxuXHRvbkVkaXQoZXZlbnQpXHJcblx0e1xyXG5cdFx0bGV0IGlkID0gdGhpcy5nZXRJREZyb21FdmVudChldmVudCk7XHJcblx0XHR0aGlzLnNldEl0ZW1FZGl0YWJsZShpZCk7XHJcblx0fVxyXG5cdFxyXG5cdG9uVXBkYXRlKGV2ZW50KVxyXG5cdHtcclxuXHRcdGxldCBzZWxmXHQ9IHRoaXM7XHJcblx0XHRsZXQgaWRcdFx0PSB0aGlzLmdldElERnJvbUV2ZW50KGV2ZW50KTtcclxuXHRcdGxldCBkYXRhXHQ9IHt9O1xyXG5cdFx0bGV0ICR0clx0XHQ9ICQoZXZlbnQuY3VycmVudFRhcmdldCkuY2xvc2VzdChcInRyXCIpO1xyXG5cdFx0XHJcblx0XHQkdHIuZmluZChcIjppbnB1dFwiKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbCkge1xyXG5cdFx0XHRcclxuXHRcdFx0aWYoISQoZWwpLmF0dHIoXCJuYW1lXCIpKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHJcblx0XHRcdGRhdGFbJChlbCkuYXR0cihcIm5hbWVcIildID0gJChlbCkudmFsKCk7XHJcblx0XHRcdFxyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdCQuYWpheCh0aGlzLnVybCArIFwiL1wiICsgaWQsIHtcclxuXHRcdFx0bWV0aG9kOiBcIlBVVFwiLFxyXG5cdFx0XHRkYXRhOiBkYXRhLFxyXG5cdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSwgc3RhdHVzLCB4aHIpIHtcclxuXHRcdFx0XHRzZWxmLm9uQWN0aW9uQ29tcGxldGUocmVzcG9uc2UpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblx0XHJcblx0b25EZWxldGUoZXZlbnQpXHJcblx0e1xyXG5cdFx0bGV0IHNlbGZcdD0gdGhpcztcclxuXHRcdGxldCBpZFx0XHQ9IHRoaXMuZ2V0SURGcm9tRXZlbnQoZXZlbnQpO1xyXG5cdFx0XHJcblx0XHQkLmFqYXgodGhpcy51cmwgKyBcIi9cIiArIGlkLCB7XHJcblx0XHRcdG1ldGhvZDogXCJERUxFVEVcIixcclxuXHRcdFx0c3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UsIHN0YXR1cywgeGhyKSB7XHJcblx0XHRcdFx0c2VsZi5vbkFjdGlvbkNvbXBsZXRlKHJlc3BvbnNlKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cdFxyXG5cdG9uQWN0aW9uQ29tcGxldGUoZXZlbnQpXHJcblx0e1xyXG5cdFx0dGhpcy4kZWxlbWVudC5EYXRhVGFibGUoKS5hamF4LnJlbG9hZCgpO1xyXG5cdH1cclxufVxyXG5cclxuUkVTVENhY2hlLlRhYmxlID0gVGFibGU7XHJcbmV4cG9ydCB7VGFibGV9OyIsIndpbmRvdy4kID0galF1ZXJ5O1xyXG53aW5kb3cuUkVTVENhY2hlID0ge307XHJcblx0XHJcbnJlcXVpcmUoJy4vUnVsZXNUYWJsZScpO1xyXG5yZXF1aXJlKCcuL1JlY29yZHNUYWJsZScpO1xyXG5cclxualF1ZXJ5KGZ1bmN0aW9uKCQpIHtcclxuXHRcclxuXHQkKFwiI3Jlc3QtY2FjaGUtdGFic1wiKS50YWJzKCk7XHJcblx0XHJcbn0pOyJdfQ=="}